<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" noXsd="true" package="lib.model" schema="task">

	<table name="virtual_table" phpName="VirtualTable">
		<column name="id" type="INTEGER" required="true" autoIncrement="true" primaryKey="true" />
		<column name="virtual_table_name" type="VARCHAR" size="50" required="true" />
		<column name="description" type="VARCHAR" size="50" />
		<column name="tag_name" type="VARCHAR" size="30" />
		<column name="enabled" type="BOOLEAN" />
		<column name="visible" type="BOOLEAN" />
		<column name="deleted" type="BOOLEAN" />
		<column name="locked" type="BOOLEAN" />
		<column name="created_at" type="TIMESTAMP" />
		<column name="updated_at" type="TIMESTAMP" />
	</table>
	
	<table name="people" phpName="People">
		<column name="id" type="INTEGER" required="true" autoIncrement="true" primaryKey="true" />
		<column name="people_type_id" type="INTEGER" description="Tipo de pessoa" required="true" />
		<column name="first_name" description="Nome" type="VARCHAR" size="100" />
		<column name="last_name" description="Sobrenome" type="VARCHAR" size="100" />
		<column name="full_name" type="VARCHAR" size="200" />
		<column name="birthday" description="Nascimento" type="DATE" />
		<column name="enabled" type="BOOLEAN" />
		<column name="visible" type="BOOLEAN" />
		<column name="deleted" type="BOOLEAN" />
		<column name="locked" type="BOOLEAN" />
		<column name="created_at" type="TIMESTAMP" />
		<column name="updated_at" type="TIMESTAMP" />
		  <foreign-key foreignTable="virtual_table" onDelete="CASCADE">
		    <reference local="people_type_id" foreign="id" />
		  </foreign-key>
	</table>
	
	<table name="user_site" phpName="UserSite">
		<column name="id" type="INTEGER" required="true" autoIncrement="true" primaryKey="true" />
		<column name="people_id" type="INTEGER" />
		<column name="username" type="VARCHAR" size="50" description="Username" />
		<column name="password" type="VARCHAR" size="40" />
		<column name="email_address" type="VARCHAR" size="150" description="E-mail" />
		<column name="active" type="BOOLEAN" description="Ativo" />
		<column name="last_access_date" type="TIMESTAMP" description="Ãšltimo acesso" />
		<column name="created_at" type="TIMESTAMP" />
		<column name="updated_at" type="TIMESTAMP" />
		  <foreign-key foreignTable="people" onDelete="CASCADE">
		    <reference local="people_id" foreign="id" />
		  </foreign-key>
	</table>

</database>